#!/usr/bin/env jruby
begin
  require 'mirah'
rescue LoadError
  $: << File.dirname(File.dirname(__FILE__)) + '/lib'
  require 'mirah'
end

asts = Duby.parse(*ARGV)
if asts.size == 1
  puts asts[0].inspect
else
  asts.each do |ast|
    next if Duby::AST::ErrorNode === ast
    puts "#{ast.filename}:", ast.inspect, ""
  end
end
